<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>OWL</title>
  <link rel="icon" type="image/png" href="../logo2.png">
  <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
  <style>
    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      background-color: black;
      color: white;
      font-family: 'Inter', sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
      max-width: 100vw;
      overflow-x: hidden;
      padding-top: 100px;
      position: relative;
    }

    header {
      position: fixed;
      top: 0;
      z-index: 1000;
      width: 100%;
      max-width: 1500px;
      height: 80px;
      background: url("../header.png") no-repeat center center;
      background-size: cover;
      box-sizing: border-box;
      border-bottom-left-radius: 20px;
      border-bottom-right-radius: 20px;
      display: flex;
      justify-content: flex-end;
      align-items: center;
      padding: 15px 40px;
    }

    .header-left {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .header-right {
      display: flex;
      align-items: center;
      gap: 16px;
    }
    .header {
  position: relative;
  height: 60px; /* –∞–±–æ –≤–∏—Å–æ—Ç–∞ —Ç–≤–æ–≥–æ —Ö–µ–¥–µ—Ä–∞ */
  background: url('header-bg.png') no-repeat center center;
  background-size: cover;
}

/* –ü—Ä–æ–∑–æ—Ä–∞ –∫–Ω–æ–ø–∫–∞ –ø–æ–≤–µ—Ä—Ö –ª–æ–≥–æ */
.logo-overlay {
  position: absolute;
  left: 10px;   /* –≤—ñ–¥—Å—Ç—É–ø –≤—ñ–¥ –ª—ñ–≤–æ–≥–æ –∫—Ä–∞—é */
  top: 10px;    /* –≤—ñ–¥—Å—Ç—É–ø –≤—ñ–¥ –≤–µ—Ä—Ö—É */
  width: 60px;  /* —à–∏—Ä–∏–Ω–∞ –∑–æ–Ω–∏ –∑ –ª–æ–≥–æ—Ç–∏–ø–æ–º */
  height: 40px; /* –≤–∏—Å–æ—Ç–∞ –∑–æ–Ω–∏ –∑ –ª–æ–≥–æ—Ç–∏–ø–æ–º */
  display: block;
  z-index: 10;
}

    .button {
      padding: 8px 14px;
      background-color: transparent;
      border: 1px solid white;
      color: white;
      text-decoration: none;
      font-weight: 500;
      border-radius: 4px;
      transition: background 0.2s, color 0.2s;
    }

    .button:hover {
      background-color: white;
      color: #0d0c0a;
    }

    .twitter-icon {
      width: 20px;
      height: 20px;
      filter: invert(1);
    }

    .main-wrapper {
      position: relative;
      width: 1500px;
      overflow: hidden;
    }

    .background-strip {
  position: fixed;
  top: 100px; /* –Ω–∏–∂—á–µ —Ö–µ–¥–µ—Ä–∞ */
  left: 50%;
  transform: translateX(-50%);
  width: 1500px;
  height: 1000px; /* –≤–∏—Å–æ—Ç–∞ —Ñ–æ–Ω—É/—Ä–∞–º–∫–∏ */
  background: url("../background-collection.png") no-repeat top center;
  background-size: cover;
  z-index: 0;
  pointer-events: none;
    }

    .grid {
      position: relative;
      z-index: 1;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 0px;
      padding: 0px;
      max-width: 1500px;
      width: 100%;
      box-sizing: border-box;
    }

   .frame {
  position: relative;
  width: 100%;
  aspect-ratio: 1 / 1.4;
  overflow: hidden;
  display: flex;
  align-items: center;
  justify-content: center;
  backface-visibility: hidden;   /* ‚úÖ –∑–º–µ–Ω—à—É—î –≥–ª—ñ—Ç—á—ñ */
  transform: translateZ(0);      /* ‚úÖ —ñ–∑–æ–ª—é—î 3D –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–∏ */
  will-change: auto;             /* ‚úÖ —Å–∫–∏–¥–∞—î 3D –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó */
}

    model-viewer {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      outline: none !important;
      box-shadow: none !important;
      transform: none !important;
    }

    model-viewer:focus,
    model-viewer:active {
      outline: none;
      box-shadow: none;
      transform: translateZ(0);
    }

    model-viewer * {
      transform: none !important;
      transition: none !important;
    }

    model-viewer {
      display: block;
      transform: translateZ(0);
      will-change: transform;
    }

    model-viewer::part(default-progress-bar) {
      display: none;
    }
  </style>
</head>
<body>
  <h1>üê¶ OWL Raffle Entry</h1>

  <button id="connectWalletBtn">Connect Wallet</button>
  <button id="connectTwitterBtn">Connect Twitter</button>
  <button id="joinBtn" disabled>Join Raffle</button>

  <div id="status"></div>

  <script>
    let userAddress = null;
    let twitterUsername = null;

    // üìç –í–°–¢–ê–í –°–Æ–î–ò –°–í–Ü–ô WHITELIST
    const whitelist = [
      "bc1pExampleAddress1...",
      "bc1pExampleAddress2...",
      "bc1pExampleAddress3..."
      // –¥–æ–¥–∞–π —Å–≤–æ—ó
    ];

    // ------------------------------
    // 1Ô∏è‚É£ –ü–Ü–î–ö–õ–Æ–ß–ï–ù–ù–Ø TAPROOT-–ì–ê–ú–ê–ù–¶–Ø
    // ------------------------------
    document.getElementById("connectWalletBtn").onclick = async () => {
      try {
        const addresses = await window.unisat.requestAccounts();
        userAddress = addresses[0];
        document.getElementById("status").innerText = "Wallet connected: " + userAddress;
        checkEligibility();
      } catch (err) {
        alert("Error connecting wallet: " + err.message);
      }
    };

    // ------------------------------
    // 2Ô∏è‚É£ –ü–Ü–î–ö–õ–Æ–ß–ï–ù–ù–Ø TWITTER (OAuth)
    // ------------------------------
    document.getElementById("connectTwitterBtn").onclick = () => {
      // üìç –°–Æ–î–ò –í–°–¢–ê–í –°–í–û–Æ TWITTER-–ê–í–¢–û–†–ò–ó–ê–¶–Ü–Æ
      alert("Twitter connection placeholder. You‚Äôll need Twitter OAuth here.");
      twitterUsername = "@ExampleUser"; // –ó–∞–º—ñ–Ω–∏—Ç–∏ –Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –ø—ñ—Å–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó
      checkEligibility();
    };

    // ------------------------------
    // 3Ô∏è‚É£ –ü–ï–†–ï–í–Ü–†–ö–ê –£–ú–û–í
    // ------------------------------
    function checkEligibility() {
      if (!userAddress || !twitterUsername) return;

      const isWhitelisted = whitelist.includes(userAddress);
      if (!isWhitelisted) {
        document.getElementById("status").innerText = "‚ùå You are not on the whitelist.";
        return;
      }

      // üìç –ü–ï–†–ï–í–Ü–†–ö–ê TWITTER FOLLOW/RT/LIKE
      // –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π Twitter API —Ç—É—Ç, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥:
      // fetch(`/api/check-twitter?user=${twitterUsername}`)
      //   .then(...)

      document.getElementById("status").innerText = "‚úÖ All checks passed!";
      document.getElementById("joinBtn").disabled = false;
    }

    // ------------------------------
    // 4Ô∏è‚É£ JOIN RAFFLE
    // ------------------------------
    document.getElementById("joinBtn").onclick = () => {
      // üìç –°–Æ–î–ò –í–°–¢–ê–í –õ–û–ì–Ü–ö–£ –ó–ë–ï–†–ï–ñ–ï–ù–ù–Ø (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, Google Sheets –∞–±–æ Firebase)
      console.log("User joined:", {
        address: userAddress,
        twitter: twitterUsername
      });
      alert("üéâ You‚Äôve successfully joined the raffle!");
    };
  </script>
</body>
</html>

